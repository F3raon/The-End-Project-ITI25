@model IEnumerable<Product>

<div class="d-flex justify-content-center">
    <h1 class="text-success">Products List</h1>
</div>

<br />
<hr />
<br />


<style>
    thead th {
        background-color: #1E90FF;
        color: white;
        font-weight: bold;
        text-align: center;
        font-size: 16px;
    }

    tbody td {
        font-size: 14px;
        vertical-align: middle;
        word-wrap: break-word;
        white-space: normal;
    }

    tbody tr:nth-child(even) {
        background-color: #f2f2f2;
    }

    .table-wrapper {
        max-height: 600px;
        overflow-y: auto;
        overflow-x: auto;
        border: 1px solid #ccc;
        border-radius: 10px;
    }

    .btn-sm {
        padding: 4px 8px;
        font-size: 13px;
    }

    .product-image {
        width: 80px;
        height: 80px;
        object-fit: contain;
    }
</style>

<div class="table-wrapper mt-4">
    <table class="table table-bordered text-center align-middle">
        <thead>
            <tr>
                <th style="background-color: #708090;">@Html.DisplayNameFor(e => e.ProductId)</th>
                <th style="background-color: #708090;">@Html.DisplayNameFor(e => e.Title)</th>
                <th style="background-color: #708090;">@Html.DisplayNameFor(e => e.Price)</th>
                <th style="background-color: #708090;">@Html.DisplayNameFor(e => e.Description)</th>
                <th style="background-color: #708090;">@Html.DisplayNameFor(e => e.Quantity)</th>
                <th style="background-color: #708090;">Image</th>
                <th style="background-color: #708090;">@Html.DisplayNameFor(e => e.Category)</th>
                <th colspan="3" style="background-color: #2F4F4F;">Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>@item.ProductId</td>
                    <td>@item.Title</td>
                    <td>@item.Price</td>
                    <td style="max-width: 250px;">@item.Description</td>
                    <td>@item.Quantity</td>
                    <td>
                        @if (!string.IsNullOrEmpty(item.ImagePath))
                        {
                            <img src="@item.ImagePath" alt="@item.Title" class="product-image" />
                        }
                    </td>
                    <td>@item.Category?.Name</td>
                    <td>
                        <a asp-controller="Product" asp-action="Details" asp-route-Id="@item.ProductId" class="btn btn-primary btn-sm">View</a>
                    </td>
                    <td>
                        <a asp-controller="Product" asp-action="Edit" asp-route-Id="@item.ProductId" class="btn btn-warning btn-sm">Edit</a>
                    </td>
                    <td>
                        <form asp-controller="Product" asp-action="Delete" asp-route-Id="@item.ProductId" method="post" onsubmit="return confirm('Are you sure you want to delete this product?')">
                            <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                        </form>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

<div class="mt-3">
    <a asp-controller="Product" asp-action="Create" class="btn btn-success">Add Product</a>
</div>